{"version":3,"file":"zooom.js","sources":["../sources/js/utils/function.ts","../sources/js/index.ts"],"sourcesContent":["/**\r\n *\r\n * @param overlay - add class and opacity to overlay div layer\r\n * @param opacity - opacity of overlay div layer\r\n */\r\nconst fadeIn = (overlay: HTMLDivElement, opacity: number | undefined) => {\r\n  overlay.className = 'zooom-overlay-in';\r\n  overlay.style.opacity = String(opacity);\r\n  overlay.style.pointerEvents = 'auto';\r\n};\r\n\r\n/**\r\n *\r\n * @param overlay - remove class and style from overlay div\r\n */\r\nconst fadeOut = (overlay: HTMLDivElement) => {\r\n  overlay.classList.remove('zooom-overlay-in');\r\n  overlay.removeAttribute('style');\r\n};\r\n\r\n/**\r\n * debounce function\r\n *\r\n * @param fn function\r\n * @param ms time\r\n * @returns function\r\n */\r\nconst debounce = (fn: Function, ms = 300) => {\r\n  let timeoutId: ReturnType<typeof setTimeout>;\r\n  return function (this: any, ...args: any[]) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => fn.apply(this, args), ms);\r\n  };\r\n};\r\n\r\nexport { fadeIn, fadeOut, debounce };\r\n","import { fadeIn, fadeOut, debounce } from './utils/function';\r\n\r\n/**\r\n * @class Zooom\r\n */\r\nclass Zooom {\r\n  private element: string;\r\n  private dataAttr: string;\r\n  private overlayId: string;\r\n  private imageZooom: any;\r\n  private clonedImg: HTMLImageElement;\r\n  private zIndex: number;\r\n  private cursorIn?: string;\r\n  private cursorOut?: string;\r\n  private color?: string;\r\n  private opacity?: number;\r\n  private animTime?: number;\r\n  private overlayLayer: HTMLDivElement;\r\n  private onResize: Function;\r\n  private onOpen: Function;\r\n  private onClose: Function;\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param className\r\n   * @param object\r\n   */\r\n  constructor(\r\n    className: string,\r\n    {\r\n      zIndex,\r\n      animationTime,\r\n      cursor,\r\n      overlay,\r\n      onResize = () => {},\r\n      onOpen = () => {},\r\n      onClose = () => {},\r\n    }: ConstructorObject = {}\r\n  ) {\r\n    this.element = className;\r\n    this.animTime = animationTime || 300;\r\n    this.zIndex = zIndex || 1;\r\n    this.dataAttr = 'data-zoomed';\r\n    this.overlayId = 'zooom-overlay';\r\n    this.overlayLayer = document.createElement('div');\r\n    this.clonedImg = document.createElement('img');\r\n\r\n    // callback function\r\n    this.onResize = onResize;\r\n    this.onOpen = onOpen;\r\n    this.onClose = onClose;\r\n\r\n    // create cursor\r\n    this.cursorType(cursor);\r\n\r\n    // create overlay\r\n    this.overlayConfig(overlay);\r\n\r\n    // creating overlay layer and adding to body\r\n    const over = this.overlayLayer;\r\n    over.id = this.overlayId;\r\n    document.body.appendChild(over);\r\n\r\n    // add to all image data attribute false\r\n    [].slice\r\n      .call(document.querySelectorAll(`.${className}`))\r\n      .map((element: HTMLElement) => {\r\n        element.setAttribute('data-zoomed', 'false');\r\n      });\r\n\r\n    // add event listener\r\n    this.eventHandle();\r\n\r\n    // create style and add to head\r\n    this.styleHead();\r\n  }\r\n\r\n  /**\r\n   * @method eventHandle - add event listener\r\n   */\r\n  eventHandle = () => {\r\n    window.addEventListener(\r\n      'resize',\r\n      debounce(() => this.event(), 70)\r\n    );\r\n\r\n    window.addEventListener('load', this.event);\r\n  };\r\n\r\n  /**\r\n   * @method event - scroll, resize, click event\r\n   */\r\n  event = () => {\r\n    ['scroll', 'resize', 'click'].map((type) => {\r\n      if (this.onResize()) {\r\n        window.removeEventListener(\r\n          type,\r\n          type === 'click' ? this.handleClick : this.handleEvent\r\n        );\r\n      } else {\r\n        window.addEventListener(\r\n          type,\r\n          type === 'click' ? this.handleClick : this.handleEvent\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param object - color and opacity\r\n   */\r\n  overlayConfig = (\r\n    { color, opacity }: ObjectOverlay = { color: '#fff', opacity: 100 }\r\n  ) => {\r\n    this.color = color;\r\n    this.opacity = opacity\r\n      ? Math.floor(opacity) >= 100\r\n        ? 1\r\n        : Math.floor(opacity) / 100\r\n      : 1;\r\n  };\r\n\r\n  // set cursor type\r\n  cursorType = (\r\n    { in: zIn, out: zOut }: ObjectCursor = { in: 'zoom-in', out: 'zoom-out' }\r\n  ) => {\r\n    this.cursorIn = `cursor: ${zIn}`;\r\n    this.cursorOut = `cursor: ${zOut};`;\r\n  };\r\n\r\n  /**\r\n   * @param event\r\n   */\r\n  handleClick = (event: any) => {\r\n    let { target } = event;\r\n    const dataZoomed = target.getAttribute(this.dataAttr);\r\n\r\n    if (dataZoomed === 'false') {\r\n      const bigImage = target.getAttribute('data-zooom-big');\r\n\r\n      if (bigImage) {\r\n        this.loadImage(target, bigImage).then(() => {\r\n          this.imageZooom = target;\r\n          this.zooomInit();\r\n          document.body.classList.remove('zooom-loading');\r\n        });\r\n      } else {\r\n        this.imageZooom = target;\r\n        this.zooomInit();\r\n      }\r\n    } else if (dataZoomed === 'true' || target.id === this.overlayId) {\r\n      this.handleEvent();\r\n    }\r\n  };\r\n\r\n  loadImage = (target: HTMLImageElement, bigImage: string) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      let newImage = new Image();\r\n\r\n      newImage.onload = function () {\r\n        resolve('image loaded');\r\n      };\r\n      newImage.onerror = function () {\r\n        reject(`image ${bigImage} not loaded`);\r\n      };\r\n\r\n      document.body.classList.add('zooom-loading');\r\n\r\n      newImage.src = bigImage;\r\n      target.src = newImage.src;\r\n      target.removeAttribute('data-zooom-big');\r\n    });\r\n  };\r\n\r\n  handleEvent = () => {\r\n    const imagezooom = document.querySelector(`[${this.dataAttr}=\"true\"]`);\r\n\r\n    if (!imagezooom) return;\r\n\r\n    // reset all style\r\n    this.reset();\r\n\r\n    setTimeout(() => {\r\n      imagezooom.setAttribute(this.dataAttr, 'false');\r\n    }, this.animTime);\r\n    // callback function onClose\r\n    this.onClose(this.imageZooom);\r\n    fadeOut(this.overlayLayer);\r\n  };\r\n\r\n  styleHead = () => {\r\n    const background = `#zooom-overlay{position:fixed;opacity:0;pointer-events:none;background:${this.color};width:100%;height:100%;top:0;justify-content:center;align-items:center;z-index:${this.zIndex};margin:auto;-webkit-transition:opacity ${this.animTime}ms ease-in-out;transition:opacity ${this.animTime}ms ease-in-out;${this.cursorOut}}`;\r\n\r\n    const css = `.${this.element}{${\r\n      this.cursorIn\r\n    }};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed=\"true\"]{${\r\n      this.cursorOut\r\n    }position:relative;z-index:${this.zIndex + 9};transition:transform ${\r\n      this.animTime\r\n    }ms ease-in-out;}`;\r\n\r\n    document.head.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<style>${css}${background}</style>`\r\n    );\r\n  };\r\n\r\n  /**\r\n   * @method zooomInit - fadein, callback function onOpen, cloneImg\r\n   */\r\n  zooomInit = () => {\r\n    const img = this.imageZooom;\r\n    img.setAttribute(this.dataAttr, 'true');\r\n\r\n    this.cloneImg(img);\r\n\r\n    fadeIn(this.overlayLayer, this.opacity);\r\n\r\n    // callback function\r\n    this.onOpen(img);\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param image - clone image and add to overlay layer\r\n   */\r\n  cloneImg = (image: HTMLImageElement) => {\r\n    let src = image.currentSrc || image.src;\r\n\r\n    let { width, height, left, top } = image.getBoundingClientRect();\r\n\r\n    const { clientWidth, clientHeight, offsetWidth } = document.documentElement;\r\n\r\n    const scrollTop =\r\n      window.pageYOffset ||\r\n      document.documentElement.scrollTop ||\r\n      document.body.scrollTop ||\r\n      0;\r\n\r\n    const scroll = clientWidth - offsetWidth;\r\n\r\n    const X = (clientWidth - scroll) / 2 - left - width / 2;\r\n    const Y = -top + (clientHeight - height) / 2;\r\n\r\n    const ratio = height / width;\r\n\r\n    let maxWidth = image.naturalWidth;\r\n\r\n    maxWidth >= clientWidth && (maxWidth = clientWidth);\r\n    const maxHeight = maxWidth * ratio;\r\n    maxHeight >= clientHeight &&\r\n      (maxWidth = (maxWidth * clientHeight) / maxHeight);\r\n\r\n    const scale = maxWidth !== width ? maxWidth / width : 1;\r\n\r\n    const img = this.clonedImg;\r\n\r\n    img.src = src;\r\n    img.width = width;\r\n    img.height = height;\r\n    img.style.top = `${top + scrollTop}px`;\r\n    img.style.left = `${left}px`;\r\n    img.style.width = `${width}px`;\r\n    img.style.height = `${height}px`;\r\n    img.className = 'zooom-clone';\r\n\r\n    document.body.appendChild(img);\r\n\r\n    img.offsetWidth;\r\n    img.setAttribute('data-zoomed', 'true');\r\n    img.style.position = 'absolute';\r\n    img.style.transform = `matrix(${scale},0,0,${scale},${X},${Y})`;\r\n\r\n    // hide orginal image\r\n    setTimeout(() => {\r\n      this.imageZooom.style.visibility = 'hidden';\r\n    }, 50);\r\n\r\n    // remove image\r\n    img.addEventListener('click', this.reset);\r\n  };\r\n\r\n  /**\r\n   * reset all style from image\r\n   */\r\n  reset = () => {\r\n    const img = this.clonedImg;\r\n    img.style.removeProperty('transform');\r\n    setTimeout(() => {\r\n      img.parentNode?.removeChild(img);\r\n      this.imageZooom.removeAttribute('style');\r\n    }, this.animTime);\r\n  };\r\n}\r\n\r\nexport default Zooom;\r\n"],"names":[],"mappings":"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"}