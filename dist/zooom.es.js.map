{"version":3,"file":"zooom.es.js","sources":["../sources/js/utils/function.ts","../sources/js/index.ts"],"sourcesContent":["/**\r\n * @function fadeIn - fade in overlay div layer\r\n *\r\n * @param {HTMLDivElement} overlay - add class and opacity to overlay div layer\r\n * @param {Stieng} bgrWithOpacity - opacity of overlay div layer\r\n */\r\nconst fadeIn = (overlay: HTMLDivElement, bgrWithOpacity?: string) => {\r\n  overlay.className = \"zooom-overlay-in\";\r\n  overlay.style.pointerEvents = \"auto\";\r\n  overlay.style.background = String(bgrWithOpacity);\r\n};\r\n\r\n/**\r\n * @function fadeOut - fade out overlay div layer\r\n *\r\n * @param {HTMLDivElement} overlay - remove class and style from overlay div\r\n */\r\nconst fadeOut = (overlay: HTMLDivElement) => {\r\n  overlay.classList.remove(\"zooom-overlay-in\");\r\n  overlay.removeAttribute(\"style\");\r\n};\r\n\r\n/**\r\n * @function debounce - debounce function\r\n *\r\n * @param {Function} fn function\r\n * @param {Number} ms time\r\n */\r\nconst debounce = (fn: Function, ms = 300) => {\r\n  let timeoutId: ReturnType<typeof setTimeout>;\r\n  return function (this: any, ...args: any[]) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => fn.apply(this, args), ms);\r\n  };\r\n};\r\n\r\nexport { fadeIn, fadeOut, debounce };\r\n","import { fadeIn, fadeOut, debounce } from \"./utils/function\";\r\n\r\n/**\r\n * @class Zooom\r\n */\r\nexport default class Zooom {\r\n  private _element: string;\r\n  private _dataAttr: string;\r\n  private _overlayId: string;\r\n  private _imageZooom: any;\r\n  private _clonedImg: HTMLImageElement;\r\n  private _zIndex: number;\r\n  private _cursorIn?: string;\r\n  private _cursorOut?: string;\r\n  private _overlay?: string;\r\n  private _animTime?: number;\r\n  private _overlayLayer: HTMLDivElement;\r\n  private _onResize: Function;\r\n  private _onOpen: Function;\r\n  private _onClose: Function;\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param className\r\n   * @param object\r\n   */\r\n  constructor(\r\n    className: string,\r\n    {\r\n      zIndex,\r\n      animationTime,\r\n      cursor,\r\n      overlay,\r\n      onResize = () => {},\r\n      onOpen = () => {},\r\n      onClose = () => {},\r\n    }: ConstructorObject\r\n  ) {\r\n    this._element = className;\r\n    this._animTime = animationTime || 300;\r\n    this._zIndex = zIndex || 1;\r\n    this._dataAttr = \"data-zoomed\";\r\n    this._overlayId = \"zooom-overlay\";\r\n    this._overlayLayer = document.createElement(\"div\");\r\n    this._clonedImg = document.createElement(\"img\");\r\n\r\n    // callback function\r\n    this._onResize = onResize;\r\n    this._onOpen = onOpen;\r\n    this._onClose = onClose;\r\n\r\n    this._overlay = overlay;\r\n\r\n    // create cursor\r\n    this._cursorType(cursor);\r\n\r\n    // create overlay\r\n    // this.overlayConfig(overlay);\r\n\r\n    // creating overlay layer and adding to body\r\n    this._overlayLayer.id = this._overlayId;\r\n    document.body.appendChild(this._overlayLayer);\r\n\r\n    // add to all image data attribute false\r\n    [].slice\r\n      .call(document.querySelectorAll(`.${className}`))\r\n      .map((element: HTMLElement) => {\r\n        element.setAttribute(\"data-zoomed\", \"false\");\r\n      });\r\n\r\n    // add event listener\r\n    this._eventHandle();\r\n\r\n    // create style and add to head\r\n    this._createStyleAndAddToHead();\r\n  }\r\n\r\n  /**\r\n   * @method eventHandle - add event listener\r\n   */\r\n  _eventHandle = () => {\r\n    window.addEventListener(\r\n      \"resize\",\r\n      debounce(() => this._event(), 70)\r\n    );\r\n\r\n    window.addEventListener(\"DOMContentLoaded\", this._event);\r\n  };\r\n\r\n  /**\r\n   * @method event - scroll, resize, click event\r\n   */\r\n  _event = () => {\r\n    [\"scroll\", \"resize\", \"click\"].map((type) => {\r\n      if (this._onResize()) {\r\n        window.removeEventListener(\r\n          type,\r\n          type === \"click\" ? this._handleClick : this._handleEvent\r\n        );\r\n      } else {\r\n        window.addEventListener(\r\n          type,\r\n          type === \"click\" ? this._handleClick : this._handleEvent\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * @method handleClick - click event\r\n   *\r\n   * @param {Object} cursor - cursor type\r\n   */\r\n  _cursorType = (\r\n    { in: zIn, out: zOut }: ObjectCursor = { in: \"zoom-in\", out: \"zoom-out\" }\r\n  ) => {\r\n    this._cursorIn = `cursor: ${zIn}`;\r\n    this._cursorOut = `cursor: ${zOut};`;\r\n  };\r\n\r\n  /**\r\n   * @method handleClick - click event\r\n   *\r\n   * @param {Event} event - event\r\n   */\r\n  _handleClick = (event: any) => {\r\n    let { target } = event;\r\n    const dataZoomed = target.getAttribute(this._dataAttr);\r\n\r\n    if (dataZoomed === \"false\") {\r\n      const bigImage = target.getAttribute(\"data-zooom-big\");\r\n\r\n      if (bigImage) {\r\n        this._loadImage(target, bigImage).then(() => {\r\n          this._imageZooom = target;\r\n          this._zooomInit();\r\n          document.body.classList.remove(\"zooom-loading\");\r\n        });\r\n      } else {\r\n        this._imageZooom = target;\r\n        this._zooomInit();\r\n      }\r\n    } else if (dataZoomed === \"true\" || target.id === this._overlayId) {\r\n      this._handleEvent();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @method loadImage - cload image if data-zooom-big is set\r\n   *\r\n   * @param {HTMLImageElement} target\r\n   * @param {String} bigImage\r\n   */\r\n  _loadImage = (target: HTMLImageElement, bigImage: string) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      let newImage = new Image();\r\n\r\n      newImage.onload = function () {\r\n        resolve(\"image loaded\");\r\n      };\r\n      newImage.onerror = function () {\r\n        reject(`image ${bigImage} not loaded`);\r\n      };\r\n\r\n      document.body.classList.add(\"zooom-loading\");\r\n\r\n      newImage.src = bigImage;\r\n      target.src = newImage.src;\r\n      target.removeAttribute(\"data-zooom-big\");\r\n    });\r\n  };\r\n\r\n  /**\r\n   * @method handleEvent\r\n   */\r\n  _handleEvent = () => {\r\n    const imagezooom = document.querySelector(`[${this._dataAttr}=\"true\"]`);\r\n\r\n    if (!imagezooom) return;\r\n\r\n    // reset all style\r\n    this._reset();\r\n\r\n    setTimeout(() => {\r\n      imagezooom.setAttribute(this._dataAttr, \"false\");\r\n    }, this._animTime);\r\n    // callback function onClose\r\n    this._onClose(this._imageZooom);\r\n    fadeOut(this._overlayLayer);\r\n  };\r\n\r\n  /**\r\n   * @method createStyleAndAddToHead - create style and add to head\r\n   */\r\n  _createStyleAndAddToHead = () => {\r\n    const background = `#zooom-overlay{position:fixed;pointer-events:none;width:100%;background:rgba(255,255,255,0);height:100%;top:0;justify-content:center;align-items:center;z-index:${this._zIndex};margin:auto;-webkit-transition:background ${this._animTime}ms ease-in-out;transition:background ${this._animTime}ms ease-in-out;${this._cursorOut}}`;\r\n\r\n    const css = `.${this._element}{${\r\n      this._cursorIn\r\n    }};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed=\"true\"]{${\r\n      this._cursorOut\r\n    }position:relative;z-index:${this._zIndex + 9};transition:transform ${\r\n      this._animTime\r\n    }ms ease-in-out;}`;\r\n\r\n    document.head.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<style>${css}${background}</style>`\r\n    );\r\n  };\r\n\r\n  /**\r\n   * @method zooomInit - fadein, callback function onOpen, cloneImg\r\n   */\r\n  _zooomInit = () => {\r\n    this._imageZooom.setAttribute(this._dataAttr, \"true\");\r\n\r\n    this._cloneImg(this._imageZooom);\r\n\r\n    fadeIn(this._overlayLayer, this._overlay);\r\n\r\n    // callback function\r\n    this._onOpen(this._imageZooom);\r\n  };\r\n\r\n  /**\r\n   * @method cloneImg - clone image\r\n   *\r\n   * @param {HTMLImageElement} image - clone image and add to overlay layer\r\n   */\r\n  _cloneImg = (image: HTMLImageElement) => {\r\n    let src = image.currentSrc || image.src;\r\n\r\n    let { width, height, left, top } = image.getBoundingClientRect();\r\n\r\n    const { clientWidth, clientHeight, offsetWidth } = document.documentElement;\r\n\r\n    const scrollTop =\r\n      window.pageYOffset ||\r\n      document.documentElement.scrollTop ||\r\n      document.body.scrollTop ||\r\n      0;\r\n\r\n    const scroll = clientWidth - offsetWidth;\r\n\r\n    const X = (clientWidth - scroll) / 2 - left - width / 2;\r\n    const Y = -top + (clientHeight - height) / 2;\r\n\r\n    const ratio = height / width;\r\n\r\n    let maxWidth = image.naturalWidth;\r\n\r\n    maxWidth >= clientWidth && (maxWidth = clientWidth);\r\n    const maxHeight = maxWidth * ratio;\r\n    maxHeight >= clientHeight &&\r\n      (maxWidth = (maxWidth * clientHeight) / maxHeight);\r\n\r\n    const scale = maxWidth !== width ? maxWidth / width : 1;\r\n\r\n    const img = this._clonedImg;\r\n\r\n    img.src = src;\r\n    img.width = width;\r\n    img.height = height;\r\n    img.style.top = `${top + scrollTop}px`;\r\n    img.style.left = `${left}px`;\r\n    img.style.width = `${width}px`;\r\n    img.style.height = `${height}px`;\r\n    img.className = \"zooom-clone\";\r\n\r\n    document.body.appendChild(img);\r\n\r\n    img.offsetWidth;\r\n    img.setAttribute(\"data-zoomed\", \"true\");\r\n    img.style.position = \"absolute\";\r\n    img.style.transform = `matrix(${scale},0,0,${scale},${X},${Y})`;\r\n\r\n    // hide orginal image\r\n    setTimeout(() => {\r\n      this._imageZooom.style.setProperty(\"visibility\", \"hidden\");\r\n    }, 50);\r\n\r\n    // remove image\r\n    img.addEventListener(\"click\", this._reset);\r\n  };\r\n\r\n  /**\r\n   * @method reset - reset all style\r\n   */\r\n  _reset = () => {\r\n    this._clonedImg.style.removeProperty(\"transform\");\r\n    setTimeout(() => {\r\n      this._clonedImg.parentNode?.removeChild(this._clonedImg);\r\n      this._imageZooom.style.removeProperty(\"visibility\");\r\n    }, this._animTime);\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}