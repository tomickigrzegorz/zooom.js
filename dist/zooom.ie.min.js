/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.1.1
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
var Zooom=function(){"use strict";return function(o,t){var i=t.zIndex,n=t.animationTime,e=t.cursor,u=t.overlay,s=t.onResize,a=void 0===s?function(){}:s,c=t.onOpen,r=void 0===c?function(){}:c,d=t.onClose,m=void 0===d?function(){}:d,f=this;this.o=function(){var o,t,i;window.addEventListener("resize",(o=function(){return f.t()},void 0===(t=70)&&(t=300),function(){for(var n=this,e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];clearTimeout(i),i=setTimeout((function(){return o.apply(n,e)}),t)})),window.addEventListener("DOMContentLoaded",f.t)},this.t=function(){["scroll","resize","click"].map((function(o){f.i()?window.removeEventListener(o,"click"===o?f.u:f.m):window.addEventListener(o,"click"===o?f.u:f.m)}))},this.h=function(o){var t=void 0===o?{in:"zoom-in",out:"zoom-out"}:o,i=t.in,n=t.out;f.l="cursor: ".concat(i),f.v="cursor: ".concat(n,";")},this.u=function(o){var t=o.target,i=t.getAttribute(f.g);if("false"===i){var n=t.getAttribute("data-zooom-big");n?f.k(t,n).then((function(){f.p=t,f.T(),document.body.classList.remove("zooom-loading")})):(f.p=t,f.T())}else"true"!==i&&t.id!==f.j||f.m()},this.k=function(o,t){return new Promise((function(i,n){var e=new Image;e.onload=function(){i("image loaded")},e.onerror=function(){n("image ".concat(t," not loaded"))},document.body.classList.add("zooom-loading"),e.src=t,o.src=e.src,o.removeAttribute("data-zooom-big")}))},this.m=function(){var o=document.querySelector("[".concat(f.g,'="true"]'));o&&(f.C(),setTimeout((function(){o.setAttribute(f.g,"false")}),f.D),f.I(f.p),function(o){o.classList.remove("zooom-overlay-in"),o.removeAttribute("style")}(f.L))},this.M=function(){var o="#zooom-overlay{position:fixed;pointer-events:none;width:100%;background:rgba(255,255,255,0);height:100%;top:0;justify-content:center;align-items:center;z-index:".concat(f.O,";margin:auto;-webkit-transition:background ").concat(f.D,"ms ease-in-out;transition:background ").concat(f.D,"ms ease-in-out;").concat(f.v,"}"),t=".".concat(f.P,"{").concat(f.l,'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{').concat(f.v,"position:relative;z-index:").concat(f.O+9,";transition:transform ").concat(f.D,"ms ease-in-out;}");document.head.insertAdjacentHTML("beforeend","<style>".concat(t).concat(o,"</style>"))},this.T=function(){f.p.setAttribute(f.g,"true"),f.S(f.p),function(o,t){o.className="zooom-overlay-in",o.style.pointerEvents="auto",o.style.background=String(t)}(f.L,f.Z),f.q(f.p)},this.S=function(o){var t=o.currentSrc||o.src,i=o.getBoundingClientRect(),n=i.width,e=i.height,u=i.left,s=i.top,a=document.documentElement,c=a.clientWidth,r=a.clientHeight,d=a.offsetWidth,m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,h=(c-(c-d))/2-u-n/2,l=(r-e)/2-s,v=e/n,z=o.naturalWidth;z>=c&&(z=c);var g=z*v;g>=r&&(z=z*r/g);var w=z!==n?z/n:1,y=f.A;y.src=t,y.width=n,y.height=e,y.style.top="".concat(s+m,"px"),y.style.left="".concat(u,"px"),y.style.width="".concat(n,"px"),y.style.height="".concat(e,"px"),y.className="zooom-clone",document.body.appendChild(y),y.offsetWidth,y.setAttribute("data-zoomed","true"),y.style.position="absolute",y.style.transform="matrix(".concat(w,",0,0,").concat(w,",").concat(h,",").concat(l,")"),setTimeout((function(){f.p.style.setProperty("visibility","hidden")}),50),y.addEventListener("click",f.C)},this.C=function(){f.A.style.removeProperty("transform"),setTimeout((function(){var o;null===(o=f.A.parentNode)||void 0===o||o.removeChild(f.A),f.p.style.removeProperty("visibility")}),f.D)},this.P=o,this.D=n||300,this.O=i||1,this.g="data-zoomed",this.j="zooom-overlay",this.L=document.createElement("div"),this.A=document.createElement("img"),this.i=a,this.q=r,this.I=m,this.Z=u,this.h(e),this.L.id=this.j,document.body.appendChild(this.L),[].slice.call(document.querySelectorAll(".".concat(o))).map((function(o){o.setAttribute("data-zoomed","false")})),this.o(),this.M()}}();
