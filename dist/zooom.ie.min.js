/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.1.2
* @link https://github.com/tomickigrzegorz/zooom.js
* @license MIT
*/
var Zooom=function(){"use strict";var o=function(o,t){var i=this,n=t.zIndex,e=t.animationTime,u=t.cursor,s=t.overlay,a=t.onResize,r=void 0===a?function(){}:a,c=t.onOpen,d=void 0===c?function(){}:c,m=t.onClose,f=void 0===m?function(){}:m;this.o=function(){var o,t,n;window.addEventListener("resize",(o=function(){return i.t()},void 0===(t=70)&&(t=300),function(){for(var i=this,e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];clearTimeout(n),n=setTimeout((function(){return o.apply(i,e)}),t)})),window.addEventListener("DOMContentLoaded",i.t)},this.t=function(){["scroll","resize","click"].map((function(o){i.i()?window.removeEventListener(o,"click"===o?i.u:i.m):window.addEventListener(o,"click"===o?i.u:i.m)}))},this.h=function(o){var t=void 0===o?{in:"zoom-in",out:"zoom-out"}:o,n=t.in,e=t.out;i.l="cursor: ".concat(n),i.v="cursor: ".concat(e,";")},this.u=function(o){var t=o.target,n=t.getAttribute(i.g);if("false"===n){var e=t.getAttribute("data-zooom-big");e?i.k(t,e).then((function(){i.p=t,i.T(),document.body.classList.remove("zooom-loading")})):(i.p=t,i.T())}else"true"!==n&&t.id!==i.j||i.m()},this.k=function(o,t){return new Promise((function(i,n){var e=new Image;e.onload=function(){i("image loaded")},e.onerror=function(){n("image ".concat(t," not loaded"))},document.body.classList.add("zooom-loading"),e.src=t,o.src=e.src,o.removeAttribute("data-zooom-big")}))},this.m=function(){var o=document.querySelector("[".concat(i.g,'="true"]'));o&&(i.C(),setTimeout((function(){o.setAttribute(i.g,"false")}),i.D),i.I(i.p),function(o){o.classList.remove("zooom-overlay-in"),o.removeAttribute("style")}(i.L))},this.M=function(){var o="#zooom-overlay{position:fixed;pointer-events:none;width:100%;background:rgba(255,255,255,0);height:100%;top:0;justify-content:center;align-items:center;z-index:".concat(i.O,";margin:auto;-webkit-transition:background ").concat(i.D,"ms ease-in-out;transition:background ").concat(i.D,"ms ease-in-out;").concat(i.v,"}"),t=".".concat(i.P,"{").concat(i.l,'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{').concat(i.v,"position:relative;z-index:").concat(i.O+9,";transition:transform ").concat(i.D,"ms ease-in-out;}");document.head.insertAdjacentHTML("beforeend","<style>".concat(t).concat(o,"</style>"))},this.T=function(){i.p.setAttribute(i.g,"true"),i.S(i.p),function(o,t){o.className="zooom-overlay-in",o.style.pointerEvents="auto",o.style.background=String(t)}(i.L,i.Z),i.q(i.p)},this.S=function(o){var t=o.currentSrc||o.src,n=o.getBoundingClientRect(),e=n.width,u=n.height,s=n.left,a=n.top,r=document.documentElement,c=r.clientWidth,d=r.clientHeight,m=r.offsetWidth,f=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,h=(c-(c-m))/2-s-e/2,l=(d-u)/2-a,v=u/e,z=o.naturalWidth;z>=c&&(z=c);var g=z*v;g>=d&&(z=z*d/g);var w=z!==e?z/e:1,y=i.A;y.src=t,y.width=e,y.height=u,y.style.top="".concat(a+f,"px"),y.style.left="".concat(s,"px"),y.style.width="".concat(e,"px"),y.style.height="".concat(u,"px"),y.className="zooom-clone",document.body.appendChild(y),y.offsetWidth,y.setAttribute("data-zoomed","true"),y.style.position="absolute",y.style.transform="matrix(".concat(w,",0,0,").concat(w,",").concat(h,",").concat(l,")"),setTimeout((function(){i.p.style.setProperty("visibility","hidden")}),50),y.addEventListener("click",i.C)},this.C=function(){i.A.style.removeProperty("transform"),setTimeout((function(){var o;null===(o=i.A.parentNode)||void 0===o||o.removeChild(i.A),i.p.style.removeProperty("visibility")}),i.D)},this.P=o,this.D=e||300,this.O=n||1,this.g="data-zoomed",this.j="zooom-overlay",this.L=document.createElement("div"),this.A=document.createElement("img"),this.i=r,this.q=d,this.I=f,this.Z=s,this.h(u),this.L.id=this.j,document.body.appendChild(this.L),[].slice.call(document.querySelectorAll(".".concat(o))).map((function(o){o.setAttribute("data-zoomed","false")})),this.o(),this.M()};return o}();
