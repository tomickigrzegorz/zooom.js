/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.1.0
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Zooom=e()}(this,(function(){"use strict";return function(t,e){var o=this,n=void 0===e?{}:e,i=n.zIndex,a=n.animationTime,c=n.cursor,r=n.overlay,s=n.onResize,d=void 0===s?function(){}:s,l=n.onOpen,m=void 0===l?function(){}:l,u=n.onClose,f=void 0===u?function(){}:u;this.eventHandle=function(){var t,e,n;window.addEventListener("resize",(t=function(){return o.event()},void 0===(e=70)&&(e=300),function(){for(var o=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return t.apply(o,i)}),e)})),window.addEventListener("load",o.event)},this.event=function(){["scroll","resize","click"].map((function(t){o.onResize()?window.removeEventListener(t,"click"===t?o.handleClick:o.handleEvent):window.addEventListener(t,"click"===t?o.handleClick:o.handleEvent)}))},this.overlayConfig=function(t){var e=void 0===t?{color:"#fff",opacity:100}:t,n=e.color,i=e.opacity;o.color=n,o.opacity=i?Math.floor(i)>=100?1:Math.floor(i)/100:1},this.cursorType=function(t){var e=void 0===t?{in:"zoom-in",out:"zoom-out"}:t,n=e.in,i=e.out;o.cursorIn="cursor: ".concat(n),o.cursorOut="cursor: ".concat(i,";")},this.handleClick=function(t){var e=t.target,n=e.getAttribute(o.dataAttr);if("false"===n){var i=e.getAttribute("data-zooom-big");i?o.loadImage(e,i).then((function(){o.imageZooom=e,o.zooomInit(),document.body.classList.remove("zooom-loading")})):(o.imageZooom=e,o.zooomInit())}else"true"!==n&&e.id!==o.overlayId||o.handleEvent()},this.loadImage=function(t,e){return new Promise((function(o,n){var i=new Image;i.onload=function(){o("image loaded")},i.onerror=function(){n("image ".concat(e," not loaded"))},document.body.classList.add("zooom-loading"),i.src=e,t.src=i.src,t.removeAttribute("data-zooom-big")}))},this.handleEvent=function(){var t=document.querySelector("[".concat(o.dataAttr,'="true"]'));t&&(o.reset(),setTimeout((function(){t.setAttribute(o.dataAttr,"false")}),o.animTime),o.onClose(o.imageZooom),function(t){t.classList.remove("zooom-overlay-in"),t.removeAttribute("style")}(o.overlayLayer))},this.styleHead=function(){var t="#zooom-overlay{position:fixed;opacity:0;pointer-events:none;background:".concat(o.color,";width:100%;height:100%;top:0;justify-content:center;align-items:center;z-index:").concat(o.zIndex,";margin:auto;-webkit-transition:opacity ").concat(o.animTime,"ms ease-in-out;transition:opacity ").concat(o.animTime,"ms ease-in-out;").concat(o.cursorOut,"}"),e=".".concat(o.element,"{").concat(o.cursorIn,'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{').concat(o.cursorOut,"position:relative;z-index:").concat(o.zIndex+9,";transition:transform ").concat(o.animTime,"ms ease-in-out;}");document.head.insertAdjacentHTML("beforeend","<style>".concat(e).concat(t,"</style>"))},this.zooomInit=function(){var t=o.imageZooom;t.setAttribute(o.dataAttr,"true"),o.cloneImg(t),function(t,e){t.className="zooom-overlay-in",t.style.opacity=String(e),t.style.pointerEvents="auto"}(o.overlayLayer,o.opacity),o.onOpen(t)},this.cloneImg=function(t){var e=t.currentSrc||t.src,n=t.getBoundingClientRect(),i=n.width,a=n.height,c=n.left,r=n.top,s=document.documentElement,d=s.clientWidth,l=s.clientHeight,m=s.offsetWidth,u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,f=(d-(d-m))/2-c-i/2,v=(l-a)/2-r,h=a/i,y=t.naturalWidth;y>=d&&(y=d);var p=y*h;p>=l&&(y=y*l/p);var g=y!==i?y/i:1,z=o.clonedImg;z.src=e,z.width=i,z.height=a,z.style.top="".concat(r+u,"px"),z.style.left="".concat(c,"px"),z.style.width="".concat(i,"px"),z.style.height="".concat(a,"px"),z.className="zooom-clone",document.body.appendChild(z),z.offsetWidth,z.setAttribute("data-zoomed","true"),z.style.position="absolute",z.style.transform="matrix(".concat(g,",0,0,").concat(g,",").concat(f,",").concat(v,")"),setTimeout((function(){o.imageZooom.style.visibility="hidden"}),50),z.addEventListener("click",o.reset)},this.reset=function(){var t=o.clonedImg;t.style.removeProperty("transform"),setTimeout((function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t),o.imageZooom.removeAttribute("style")}),o.animTime)},this.element=t,this.animTime=a||300,this.zIndex=i||1,this.dataAttr="data-zoomed",this.overlayId="zooom-overlay",this.overlayLayer=document.createElement("div"),this.clonedImg=document.createElement("img"),this.onResize=d,this.onOpen=m,this.onClose=f,this.cursorType(c),this.overlayConfig(r);var v=this.overlayLayer;v.id=this.overlayId,document.body.appendChild(v),[].slice.call(document.querySelectorAll(".".concat(t))).map((function(t){t.setAttribute("data-zoomed","false")})),this.eventHandle(),this.styleHead()}}));
