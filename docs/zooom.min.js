/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.0.12
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
var Zooom=function(){"use strict";return function(e,o){var t=this,i=void 0===o?{}:o,n=i.zIndex,a=i.animationTime,r=i.cursor,d=i.overlay,l=i.onLoaded,m=void 0===l?function(){}:l,s=i.onCleared,c=void 0===s?function(){}:s;this.overlayConfig=function(e){var o=void 0===e?{color:"#fff",opacity:100}:e,i=o.color,n=o.opacity;t.color=i,t.opacity=n?Math.floor(n)>=100?1:Math.floor(n)/100:1},this.cursorType=function(e){var o=void 0===e?{in:"zoom-in",out:"zoom-out"}:e,i=o.in,n=o.out;t.cursorIn="cursor: "+i,t.cursorOut="cursor: "+n+";"},this.initial=function(){t.headStyle(),t.createOverlay(),t.setAttr(),t.overlayType("in"),t.overlayType("out");var e=t.debounce(t.handleEvent,30);document.addEventListener("click",t.handleClick),window.addEventListener("scroll",t.handleEvent),window.addEventListener("resize",e)},this.setAttr=function(){for(var e=document.querySelectorAll("."+t.element),o=0;o<e.length;o++)e[o].setAttribute(t.dataZoomed,"false")},this.isNumber=function(e,o){return void 0===e?o:"string"==typeof e?+e:e},this.debounce=function(e,o){var t;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=function(){t=null,e.apply(void 0,i)};clearTimeout(t),t=setTimeout(a,o)}},this.handleClick=function(e){var o=e.target,i=o.getAttribute(t.dataZoomed);"false"===i?(t.imageZooom=o,t.zooomInit()):"true"!==i&&o.id!==t.overlayZoomed||t.handleEvent()},this.handleEvent=function(){var e=document.querySelector("["+t.dataZoomed+'="true"]');e&&(t.reset(),setTimeout((function(){e.setAttribute(t.dataZoomed,"false")}),t.animTime),t.onCleared(t.imageZooom),t.fadeOut())},this.headStyle=function(){var e="."+t.element+"{"+t.cursorIn+'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{'+t.cursorOut+"position:relative;z-index:"+(t.zIndex+9)+";transition:transform "+t.animTime+"ms ease-in-out;}#zooom-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:"+t.color+";z-index:"+t.zIndex+";"+t.cursorOut+"}";t.createStyle(e)},this.createStyle=function(e){var o=document.createElement("style");o.appendChild(document.createTextNode(e)),document.head.appendChild(o)},this.zooomInit=function(){t.imageZooom.setAttribute(t.dataZoomed,"true"),t.cloneImg(t.imageZooom),t.fadeIn(),t.onLoaded(t.imageZooom)},this.createOverlay=function(){t.overlay.id=t.overlayZoomed,t.overlay.style.display="none",document.body.appendChild(t.overlay)},this.fadeIn=function(){t.overlay.className="zooom-overlay-in",t.overlay.removeAttribute("style")},this.fadeOut=function(){t.overlay.classList.add("zooom-overlay-out"),setTimeout((function(){t.overlay.classList.remove("zooom-overlay-in"),t.overlay.style.display="none"}),t.animTime)},this.overlayType=function(e){var o="in"==e?0:t.opacity,i="in"==e?t.opacity:0,n=".zooom-overlay-"+e+"{-webkit-animation: show-"+e+" "+t.animTime+"ms ease-"+e+" forwards;animation: show-"+e+" "+t.animTime+"ms ease-"+e+" forwards;}@keyframes show-"+e+"{from{opacity:"+o+";}to{opacity:"+i+"}}@-webkit-keyframes show-"+e+"{from{opacity:"+o+";}to{opacity:"+i+"}}}";t.createStyle(n)},this.cloneImg=function(e){var o=e.currentSrc||e.src,i=e.getBoundingClientRect(),n=i.width,a=i.height,r=i.left,d=i.top,l=document.documentElement,m=l.clientWidth,s=l.clientHeight,c=l.offsetWidth,u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,y=m-c;t.clonedImg=document.createElement("img");var h=(m-y)/2-r-n/2,v=(s-a)/2-d,f=a/n,g=e.naturalWidth;g>=m&&(g=m);var p=g*f;p>=s&&(g=g*s/p);var I=g!==n?g/n:1;t.clonedImg.src=o,t.clonedImg.width=n,t.clonedImg.height=a,t.clonedImg.style.top=d+u+"px",t.clonedImg.style.left=r+"px",t.clonedImg.style.width=n+"px",t.clonedImg.style.height=a+"px",t.clonedImg.className="zooom-clone",document.body.appendChild(t.clonedImg),t.clonedImg.offsetWidth,t.clonedImg.setAttribute("data-zoomed","true"),t.clonedImg.style.position="absolute",t.clonedImg.style.transform="matrix("+I+",0,0,"+I+","+h+","+v+")",setTimeout((function(){t.imageZooom.style.visibility="hidden"}),50),t.clonedImg.addEventListener("click",(function(){t.reset()}))},this.reset=function(){t.clonedImg.style.removeProperty("transform"),setTimeout((function(){var e;null===(e=t.clonedImg.parentNode)||void 0===e||e.removeChild(t.clonedImg),t.imageZooom.removeAttribute("style")}),t.animTime)},this.element=e,this.animTime=this.isNumber(a,300),this.zIndex=this.isNumber(n,1),this.dataZoomed="data-zoomed",this.overlayZoomed="zooom-overlay",this.overlay=document.createElement("div"),this.onLoaded=m,this.onCleared=c,this.cursorType(r),this.overlayConfig(d),this.initial()}}();
