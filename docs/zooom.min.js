/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.0.15
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
var Zooom=function(){"use strict";return function(t,e){var o=this,i=void 0===e?{}:e,n=i.zIndex,r=i.animationTime,a=i.cursor,s=i.overlay,c=i.onResize,d=void 0===c?function(){}:c,l=i.onOpen,u=void 0===l?function(){}:l,m=i.onClose,h=void 0===m?function(){}:m;this.initial=function(){o.eventHandle(),o.styleHead()},this.eventHandle=function(){window.addEventListener("resize",o.debounce((function(){return o.event()}),70)),window.addEventListener("load",o.event)},this.event=function(){o.arrayEvents.map((function(t){o.onResize()?window.removeEventListener(t,"click"===t?o.handleClick:o.handleEvent):window.addEventListener(t,"click"===t?o.handleClick:o.handleEvent)}))},this.overlayConfig=function(t){var e=void 0===t?{color:"#fff",opacity:100}:t,i=e.color,n=e.opacity;o.color=i,o.opacity=n?Math.floor(n)>=100?1:Math.floor(n)/100:1},this.cursorType=function(t){var e=void 0===t?{in:"zoom-in",out:"zoom-out"}:t,i=e.in,n=e.out;o.cursorIn="cursor: "+i,o.cursorOut="cursor: "+n+";"},this.debounce=function(t,e){var o;return void 0===e&&(e=300),function(){for(var i=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];clearTimeout(o),o=setTimeout((function(){return t.apply(i,n)}),e)}},this.handleClick=function(t){var e=t.target,i=e.getAttribute(o.dataAttr);"false"===i?(o.imageZooom=e,o.zooomInit()):"true"!==i&&e.id!==o.overlayId||o.handleEvent()},this.handleEvent=function(){var t=document.querySelector("["+o.dataAttr+'="true"]');t&&(o.reset(),setTimeout((function(){t.setAttribute(o.dataAttr,"false")}),o.animTime),o.onClose(o.imageZooom),o.fadeOut(o.overlayLayer))},this.styleHead=function(){var t="#zooom-overlay{position:fixed;opacity:0;pointer-events:none;background:"+o.color+";width:100%;height:100%;top:0;justify-content:center;align-items:center;z-index:"+o.zIndex+";margin:auto;-webkit-transition:opacity "+o.animTime+"ms ease-in-out;transition:opacity "+o.animTime+"ms ease-in-out;"+o.cursorOut+"}",e="."+o.element+"{"+o.cursorIn+'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{'+o.cursorOut+"position:relative;z-index:"+(o.zIndex+9)+";transition:transform "+o.animTime+"ms ease-in-out;}";document.head.insertAdjacentHTML("beforeend","<style>"+e+t+"</style>")},this.zooomInit=function(){var t=o.imageZooom;t.setAttribute(o.dataAttr,"true"),o.cloneImg(t),o.fadeIn(o.overlayLayer),o.onOpen(t)},this.fadeIn=function(t){t.className="zooom-overlay-in",t.style.opacity=String(o.opacity),t.style.pointerEvents="auto"},this.fadeOut=function(t){t.classList.remove("zooom-overlay-in"),t.removeAttribute("style")},this.cloneImg=function(t){var e=t.currentSrc||t.src,i=t.getBoundingClientRect(),n=i.width,r=i.height,a=i.left,s=i.top,c=document.documentElement,d=c.clientWidth,l=c.clientHeight,u=c.offsetWidth,m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,h=(d-(d-u))/2-a-n/2,v=(l-r)/2-s,f=r/n,y=t.naturalWidth;y>=d&&(y=d);var p=y*f;p>=l&&(y=y*l/p);var g=y!==n?y/n:1,z=o.clonedImg;z.src=e,z.width=n,z.height=r,z.style.top=s+m+"px",z.style.left=a+"px",z.style.width=n+"px",z.style.height=r+"px",z.className="zooom-clone",document.body.appendChild(z),z.offsetWidth,z.setAttribute("data-zoomed","true"),z.style.position="absolute",z.style.transform="matrix("+g+",0,0,"+g+","+h+","+v+")",setTimeout((function(){o.imageZooom.style.visibility="hidden"}),50),z.addEventListener("click",o.reset)},this.reset=function(){var t=o.clonedImg;t.style.removeProperty("transform"),setTimeout((function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t),o.imageZooom.removeAttribute("style")}),o.animTime)},this.element=t,this.animTime=r||300,this.zIndex=n||1,this.dataAttr="data-zoomed",this.overlayId="zooom-overlay",this.overlayLayer=document.createElement("div"),this.clonedImg=document.createElement("img"),this.onResize=d,this.onOpen=u,this.onClose=h,this.arrayEvents=["scroll","resize","click"],this.cursorType(a),this.overlayConfig(s);var v=this.overlayLayer;v.id=this.overlayId,document.body.appendChild(v),document.querySelectorAll("."+this.element).forEach((function(t){t.setAttribute(o.dataAttr,"false")})),this.initial()}}();
