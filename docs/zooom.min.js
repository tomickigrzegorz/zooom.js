/**
 * Zooom.js - the easiest way to enlarge a photo
 * @version v1.0.7
 * @link https://github.com/tomik23/zooom.js
 * @license MIT
 */

var Zooom=function(){"use strict";return function(e,t){var o=this,i=void 0===t?{}:t,a=i.padding,n=i.zIndex,r=i.animationTime,l=i.cursor,s=i.overlay,d=i.onLoaded,m=void 0===d?function(){}:d,u=i.onCleared,c=void 0===u?function(){}:u;this.overlayConfig=function(e){var t=e.color,i=e.opacity;o.color=t||"#fff",o.opacity=i?Math.floor(i)>100?1:Math.floor(i)/100:1},this.cursorType=function(e){o.cursorIn="cursor: "+(e&&void 0===e.in?"zoom-in":e.in)+";",o.cursorOut="cursor: "+(e&&void 0===e.out?"zoom-out":e.out)+";"},this.initial=function(){o.headStyle(),o.ceateOverlay(),o.setDefaultAttr(),o.styleOverlay("in"),o.styleOverlay("out"),document.addEventListener("click",o.handleClick,!1),window.addEventListener("scroll",o.handleEvent,!1);var e=o.debounce(o.handleEvent,100);window.addEventListener("resize",e)},this.setDefaultAttr=function(){for(var e=document.querySelectorAll("."+o.element),t=0;t<e.length;t++)e[t].setAttribute(o.dataZoomed,"false")},this.isNumber=function(e,t){return void 0===e?t:"string"==typeof e?+e:e},this.debounce=function(e,t){var o;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var n=function(){o=null,e.apply(void 0,i)};clearTimeout(o),o=setTimeout(n,t)}},this.handleClick=function(e){var t=e.target,i=t.getAttribute(o.dataZoomed);o.imageZooom=t,"false"===i?o.zooomInit():"true"!==i&&t.id!==o.overlayZoomed||o.handleEvent()},this.handleEvent=function(){var e=document.querySelector("["+o.dataZoomed+'="true"]');e&&(e.removeAttribute("style"),setTimeout((function(){e.setAttribute(o.dataZoomed,"false")}),o.animTime),o.onCleared(o.imageZooom),o.fadeOut())},this.headStyle=function(){var e="."+o.element+"{"+o.cursorIn+'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{'+o.cursorOut+"position:relative;z-index:"+(o.zIndex+9)+";transition:transform "+o.animTime+"ms ease-in-out;}#zooom-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:"+o.color+";z-index:"+o.zIndex+";"+o.cursorOut+"}";o.createStyle(e)},this.createStyle=function(e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)},this.zooomInit=function(){o.imageZooom.setAttribute(o.dataZoomed,"true"),o.fadeIn(),o.imageScale(o.imageZooom),o.onLoaded(o.imageZooom)},this.ceateOverlay=function(){o.overlayEl.id=o.overlayZoomed,o.overlayEl.style.display="none",document.body.appendChild(o.overlayEl)},this.fadeIn=function(){o.overlayEl.className="zooom-overlay-in",o.overlayEl.removeAttribute("style")},this.fadeOut=function(){o.overlayEl.classList.add("zooom-overlay-out"),setTimeout((function(){o.overlayEl.classList.remove("zooom-overlay-in"),o.overlayEl.style.display="none"}),o.animTime)},this.styleOverlay=function(e){var t="in"==e?0:o.opacity,i="in"==e?o.opacity:0,a=".zooom-overlay-"+e+"{-webkit-animation: show-"+e+" "+o.animTime+"ms ease-"+e+" forwards;animation: show-"+e+" "+o.animTime+"ms ease-"+e+" forwards;}@keyframes show-"+e+"{from{opacity:"+t+";}to{opacity:"+i+"}}@-webkit-keyframes show-"+e+"{from{opacity:"+t+";}to{opacity:"+i+"}}";o.createStyle(a)},this.imageScale=function(e){var t=e.naturalWidth,i=e.naturalHeight,a=e.clientWidth,n=e.clientHeight,r=o.imageZooom.getBoundingClientRect(),l=r.left,s=r.top,d=t/a,m=window.innerHeight,u=document.documentElement.clientWidth,c=m-o.padding,y=u-o.padding,h=u/2-(l+a/2),v=m/2-(s+n/2),f=1;(f=t<y&&i<c?d:t/i<y/c?c/i*d:y/t*d)<=1&&(f=1),o.imageZooom.setAttribute("style","transform: translate("+h+"px, "+v+"px) scale("+f+") translateZ(0);")},this.element=e,this.padding=this.isNumber(a,80),this.animTime=this.isNumber(r,300),this.zIndex=this.isNumber(n,1),this.dataZoomed="data-zoomed",this.overlayZoomed="zooom-overlay",this.overlayEl=document.createElement("div"),this.onLoaded=m,this.onCleared=c,this.cursorType(l),this.overlayConfig(s),this.initial()}}();
