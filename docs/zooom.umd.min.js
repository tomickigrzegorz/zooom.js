/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.0.15
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Zooom=t()}(this,(function(){"use strict";return function(e,t){var o=this,i=void 0===t?{}:t,n=i.zIndex,r=i.animationTime,a=i.cursor,s=i.overlay,d=i.onResize,l=void 0===d?function(){}:d,c=i.onOpen,u=void 0===c?function(){}:c,m=i.onClose,f=void 0===m?function(){}:m;this.initial=function(){o.eventHandle(),o.styleHead()},this.eventHandle=function(){window.addEventListener("resize",o.debounce((function(){return o.event()}),70)),window.addEventListener("load",o.event)},this.event=function(){o.arrayEvents.map((function(e){o.onResize()?window.removeEventListener(e,"click"===e?o.handleClick:o.handleEvent):window.addEventListener(e,"click"===e?o.handleClick:o.handleEvent)}))},this.overlayConfig=function(e){var t=void 0===e?{color:"#fff",opacity:100}:e,i=t.color,n=t.opacity;o.color=i,o.opacity=n?Math.floor(n)>=100?1:Math.floor(n)/100:1},this.cursorType=function(e){var t=void 0===e?{in:"zoom-in",out:"zoom-out"}:e,i=t.in,n=t.out;o.cursorIn="cursor: "+i,o.cursorOut="cursor: "+n+";"},this.debounce=function(e,t){var o;return void 0===t&&(t=300),function(){for(var i=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];clearTimeout(o),o=setTimeout((function(){return e.apply(i,n)}),t)}},this.handleClick=function(e){var t=e.target,i=t.getAttribute(o.dataAttr);"false"===i?(o.imageZooom=t,o.zooomInit()):"true"!==i&&t.id!==o.overlayId||o.handleEvent()},this.handleEvent=function(){var e=document.querySelector("["+o.dataAttr+'="true"]');e&&(o.reset(),setTimeout((function(){e.setAttribute(o.dataAttr,"false")}),o.animTime),o.onClose(o.imageZooom),o.fadeOut(o.overlayLayer))},this.styleHead=function(){var e="#zooom-overlay{position:fixed;opacity:0;pointer-events:none;background:"+o.color+";width:100%;height:100%;top:0;justify-content:center;align-items:center;z-index:"+o.zIndex+";margin:auto;-webkit-transition:opacity "+o.animTime+"ms ease-in-out;transition:opacity "+o.animTime+"ms ease-in-out;"+o.cursorOut+"}",t="."+o.element+"{"+o.cursorIn+'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{'+o.cursorOut+"position:relative;z-index:"+(o.zIndex+9)+";transition:transform "+o.animTime+"ms ease-in-out;}";document.head.insertAdjacentHTML("beforeend","<style>"+t+e+"</style>")},this.zooomInit=function(){var e=o.imageZooom;e.setAttribute(o.dataAttr,"true"),o.cloneImg(e),o.fadeIn(o.overlayLayer),o.onOpen(e)},this.fadeIn=function(e){e.className="zooom-overlay-in",e.style.opacity=String(o.opacity),e.style.pointerEvents="auto"},this.fadeOut=function(e){e.classList.remove("zooom-overlay-in"),e.removeAttribute("style")},this.cloneImg=function(e){var t=e.currentSrc||e.src,i=e.getBoundingClientRect(),n=i.width,r=i.height,a=i.left,s=i.top,d=document.documentElement,l=d.clientWidth,c=d.clientHeight,u=d.offsetWidth,m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,f=(l-(l-u))/2-a-n/2,h=(c-r)/2-s,v=r/n,y=e.naturalWidth;y>=l&&(y=l);var p=y*v;p>=c&&(y=y*c/p);var g=y!==n?y/n:1,z=o.clonedImg;z.src=t,z.width=n,z.height=r,z.style.top=s+m+"px",z.style.left=a+"px",z.style.width=n+"px",z.style.height=r+"px",z.className="zooom-clone",document.body.appendChild(z),z.offsetWidth,z.setAttribute("data-zoomed","true"),z.style.position="absolute",z.style.transform="matrix("+g+",0,0,"+g+","+f+","+h+")",setTimeout((function(){o.imageZooom.style.visibility="hidden"}),50),z.addEventListener("click",o.reset)},this.reset=function(){var e=o.clonedImg;e.style.removeProperty("transform"),setTimeout((function(){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e),o.imageZooom.removeAttribute("style")}),o.animTime)},this.element=e,this.animTime=r||300,this.zIndex=n||1,this.dataAttr="data-zoomed",this.overlayId="zooom-overlay",this.overlayLayer=document.createElement("div"),this.clonedImg=document.createElement("img"),this.onResize=l,this.onOpen=u,this.onClose=f,this.arrayEvents=["scroll","resize","click"],this.cursorType(a),this.overlayConfig(s);var h=this.overlayLayer;h.id=this.overlayId,document.body.appendChild(h),document.querySelectorAll("."+this.element).forEach((function(e){e.setAttribute(o.dataAttr,"false")})),this.initial()}}));
