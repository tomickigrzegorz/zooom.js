/*!
* Zooom.js - the easiest way to enlarge a photo
* @version v1.0.14
* @link https://github.com/tomik23/zooom.js
* @license MIT
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Zooom=t()}(this,(function(){"use strict";return function(e,t){var o=this,i=void 0===t?{}:t,n=i.zIndex,a=i.animationTime,r=i.cursor,s=i.overlay,d=i.onResize,l=void 0===d?function(){}:d,c=i.onOpen,m=void 0===c?function(){}:c,u=i.onClose,f=void 0===u?function(){}:u;this.initial=function(){o.eventHandle(),o.styleHead(),o.createOverlay(o.overlay),o.setAttr(),o.styleOverlay()},this.eventHandle=function(){window.addEventListener("resize",o.debounce((function(){return o.event()}),70)),window.addEventListener("load",o.event)},this.event=function(){o.arrayEvents.map((function(e){o.onResize()?window.removeEventListener(e,"click"===e?o.handleClick:o.handleEvent):window.addEventListener(e,"click"===e?o.handleClick:o.handleEvent)}))},this.overlayConfig=function(e){var t=void 0===e?{color:"#fff",opacity:100}:e,i=t.color,n=t.opacity;o.color=i,o.opacity=n?Math.floor(n)>=100?1:Math.floor(n)/100:1},this.cursorType=function(e){var t=void 0===e?{in:"zoom-in",out:"zoom-out"}:e,i=t.in,n=t.out;o.cursorIn="cursor: "+i,o.cursorOut="cursor: "+n+";"},this.setAttr=function(){for(var e=document.querySelectorAll("."+o.element),t=0;t<e.length;t++)e[t].setAttribute(o.dataZoomed,"false")},this.debounce=function(e,t){var o;return void 0===t&&(t=300),function(){for(var i=this,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];clearTimeout(o),o=setTimeout((function(){return e.apply(i,n)}),t)}},this.handleClick=function(e){var t=e.target,i=t.getAttribute(o.dataZoomed);"false"===i?(o.imageZooom=t,o.zooomInit()):"true"!==i&&t.id!==o.overlayZoomed||o.handleEvent()},this.handleEvent=function(){var e=document.querySelector("["+o.dataZoomed+'="true"]');e&&(o.reset(),setTimeout((function(){e.setAttribute(o.dataZoomed,"false")}),o.animTime),o.onClose(o.imageZooom),o.fadeOut(o.overlay))},this.styleHead=function(){var e="."+o.element+"{"+o.cursorIn+'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{'+o.cursorOut+"position:relative;z-index:"+(o.zIndex+9)+";transition:transform "+o.animTime+"ms ease-in-out;}#zooom-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:"+o.color+";z-index:"+o.zIndex+";"+o.cursorOut+"}";o.createStyle(e)},this.createStyle=function(e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)},this.zooomInit=function(){var e=o.imageZooom;e.setAttribute(o.dataZoomed,"true"),o.cloneImg(e),o.fadeIn(o.overlay),o.onOpen(e)},this.createOverlay=function(e){e.id=o.overlayZoomed,e.style.display="none",document.body.appendChild(e)},this.fadeIn=function(e){e.className="zooom-overlay-in",e.removeAttribute("style")},this.fadeOut=function(e){e.classList.add("zooom-overlay-out"),setTimeout((function(){e.classList.remove("zooom-overlay-in"),e.style.display="none"}),o.animTime)},this.styleOverlay=function(){["in","out"].map((function(e){var t="in"==e?0:o.opacity,i="in"==e?o.opacity:0,n=".zooom-overlay-"+e+"{-webkit-animation: show-"+e+" "+o.animTime+"ms ease-"+e+" forwards;animation: show-"+e+" "+o.animTime+"ms ease-"+e+" forwards;}@keyframes show-"+e+"{from{opacity:"+t+";}to{opacity:"+i+"}}@-webkit-keyframes show-"+e+"{from{opacity:"+t+";}to{opacity:"+i+"}}}";o.createStyle(n)}))},this.cloneImg=function(e){var t=e.currentSrc||e.src,i=e.getBoundingClientRect(),n=i.width,a=i.height,r=i.left,s=i.top,d=document.documentElement,l=d.clientWidth,c=d.clientHeight,m=d.offsetWidth,u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,f=(l-(l-m))/2-r-n/2,h=(c-a)/2-s,y=a/n,v=e.naturalWidth;v>=l&&(v=l);var p=v*y;p>=c&&(v=v*c/p);var g=v!==n?v/n:1,z=o.clonedImg;z.src=t,z.width=n,z.height=a,z.style.top=s+u+"px",z.style.left=r+"px",z.style.width=n+"px",z.style.height=a+"px",z.className="zooom-clone",document.body.appendChild(z),z.offsetWidth,z.setAttribute("data-zoomed","true"),z.style.position="absolute",z.style.transform="matrix("+g+",0,0,"+g+","+f+","+h+")",setTimeout((function(){o.imageZooom.style.visibility="hidden"}),50),z.addEventListener("click",o.reset)},this.reset=function(){var e=o.clonedImg;e.style.removeProperty("transform"),setTimeout((function(){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e),o.imageZooom.removeAttribute("style")}),o.animTime)},this.element=e,this.animTime=a||300,this.zIndex=n||1,this.dataZoomed="data-zoomed",this.overlayZoomed="zooom-overlay",this.overlay=document.createElement("div"),this.clonedImg=document.createElement("img"),this.onResize=l,this.onOpen=m,this.onClose=f,this.arrayEvents=["scroll","resize","click"],this.cursorType(r),this.overlayConfig(s),this.initial()}}));
